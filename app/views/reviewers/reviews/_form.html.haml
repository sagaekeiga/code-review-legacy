.container
  .row
    .review
      .workspace
        = render 'shared/flash_msg'
        = render 'progress_bar', pull: pull, review: review
        .m-t-10.m-b-4
          .page-header{ 'pull-id': pull.id, 'repo-token': pull.repo_token, 'issue-numbers': numbers.empty? ? 0 : numbers }
            %h1
              %strong= pull.title
          .menu= render 'reviewers/reviews/menu', repo: pull.repo, changed_files: changed_files, commits: commits, numbers: numbers
          / code
          #codeTab.tab-content
            = form_for [:reviewers, pull, review], html: { class: 'form-horizontal', role: 'form' } do |f|
              .sticky-menu
                .container.p-r-0
                  #title.pull-left.hidden
                    %h2
                      %strong= pull.title
                  .text-right.p-r-0.m-t-1
                    %button#reviewSubmit.btn.btn-primary.m-t-2{ type: 'button', 'data-backdrop': 'false' } 提出する
              %i.fa.fa-chevron-circle-right.hidden.open-left-side
              .data_id{ 'pull-id': pull.id, 'reviewer-id': current_reviewer.id }
              .reviews-form-wrapper
                .reviews-form-card-wrapper.editor
                  = render partial: 'reviewers/pull/changed_files/changed_file', collection: changed_files, locals: { repo: repo, pull: pull }
              #reviewSubmitModal.modal.fade
                .modal-dialog.modal-lg
                  .modal-content
                    .modal-body
                      %h4.title
                        = t '.review'
                        %small.text-muted= t '.fix_template'
                      = f.text_area :body, id: 'review_body', class: 'form-control', rows: '10'
                      .text-left.m-t-2
                        // @TODO 後で変更するかもしれないので一旦localizeなし
                        %label.check
                          = check_box_tag :syntax
                          誤字はないか。
                        %br
                        %label.check
                          = check_box_tag :expression
                          開発者が理解しにくい曖昧な表現はないか。
                        %br
                        %label.check
                          = check_box_tag :code
                          可能な限りソースコードを提示できているか。
                        %br
                        %label.check
                          = check_box_tag :link
                          伝え切れない内容は参考リンクを貼って補足できているか。
                    .modal-footer
                      = f.submit t('.finish'), id: 'submit_review_button', class: 'btn btn-primary'
          = render 'reviewers/reviews/tab_contents', repo: repo, pull: pull, commits: commits, numbers: numbers
